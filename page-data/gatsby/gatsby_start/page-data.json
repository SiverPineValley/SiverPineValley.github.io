{"componentChunkName":"component---src-templates-blog-post-js","path":"/gatsby/gatsby_start/","result":{"data":{"site":{"siteMetadata":{"title":"Devlog"}},"markdownRemark":{"id":"14726c6f-2610-5505-9f3f-4a5f87e902ab","excerpt":"오랫만에 다시 Gatsby 블로그를 개설했다. 너무 간만인지 개삽질을 거듭해서 아래와 같이 정리하게 되었다. Windows WSL2 기반으로 작성했으며, WSL2 설치는 아래 Blog를 참조하였다. 설치 방법 😎 1. nvm 설치 가장 먼저, NodeJS…","html":"<p>오랫만에 다시 Gatsby 블로그를 개설했다. 너무 간만인지 개삽질을 거듭해서 아래와 같이 정리하게 되었다. Windows WSL2 기반으로 작성했으며, WSL2 설치는 아래 <a href=\"https://www.lainyzine.com/ko/article/how-to-install-wsl2-and-use-linux-on-windows-10/\">Blog</a>를 참조하였다.</p>\n<h1>설치 방법 😎</h1>\n<h2>1. nvm 설치</h2>\n<p>가장 먼저, NodeJS를 설치했다. 다만, 그 전에 WSL2 설치하니 NodeJS가 기존 system 버전으로 잡혀있어서 nvm을 먼저 설치했다.</p>\n<p>그 후에 최신 Stable 버전인 14.17.6 버전으로 설치했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token comment\"># 빌드 환경 설치</span>\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> build-essential libssl-dev\n\n<span class=\"token comment\"># nvm 설치</span>\n$ <span class=\"token function\">curl</span> -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span>\n\n<span class=\"token comment\"># NodeJS 설치</span>\n$ nvm <span class=\"token function\">install</span> <span class=\"token number\">14.17</span>.6\n$ nvm use <span class=\"token number\">14.17</span>.6\n$ nvm <span class=\"token function\">ls</span></code></pre></div>\n<p>여기까지 했을 때, 현재 버전이 14.17.6으로 되어있으면 정상적으로 NodeJS가 설치된 것이다.</p>\n<p>추가로, 내가 설치하려는 <a href=\"https://github.com/JaeYeopHan/gatsby-starter-bee\">gatsby-starter-bee</a>는 npm이 7.0.0 버전 이상이어야 dependency 오류가 발생하지 않았으므로, 아래와 같이 npm 버전도 업데이트한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token comment\"># npm 업데이트</span>\n$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-g</span> npm@latest</code></pre></div>\n<h2>2. Gatsby 설치 및 프로젝트 생성</h2>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token comment\"># gatsby 설치</span>\n$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-g</span> gatsby-cli\n\n<span class=\"token comment\"># gatsby 프로젝트 init</span>\n$ gatsby new new-gatsby https://github.com/JaeYeopHan/gatsby-starter-bee\n</code></pre></div>\n<h2>3. Gatsby 로컬 빌드</h2>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ <span class=\"token builtin class-name\">cd</span> new-gatsby/\n$ <span class=\"token function\">npm</span> start\n<span class=\"token comment\"># open localhost:8000</span></code></pre></div>\n<h2>4. Gastby 설치 오류 발생 시 🤢</h2>\n<p>나 같은 경우에는 여러 가지 오류가 발생해서 설치 중 많은 고통을 느끼게 했었다.</p>\n<h3>1) npm 버전 문제</h3>\n<p>npm 버전이 7.0.0 이상이어야 dependency에서 문제가 잡히지 않았다. 최초 설치시에는 6버전대였는데,\n위에 설명한대로 잘 따라왔다면 이 문제는 발생하지 않을 것이다.</p>\n<h3>2) python2 미설치 문제</h3>\n<p>python2가 설치되지 않아서 생겼던 문제인데, 결론적으로는 python2만 설치해주면 끝이나 WSL2에 기본 설치된 python3의 기본 경로때문에 문제가 발생했다.</p>\n<p>분명히 python2로 alias도 설정했으나, PATH 변수의 python3 바이너리만 찾아서 빌드를 해대서 문제가 발생했다.</p>\n<p>아래와 같이 해결을 했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token comment\"># 빌드 도구 미리 설치</span>\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> update\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> g++\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> build-essential gdb\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">make</span>\n\n<span class=\"token comment\"># python2.7.18 다운로드</span>\n$ <span class=\"token function\">wget</span> https://www.python.org/ftp/python/2.7.18/Python-2.7.18.tgz\n\n<span class=\"token comment\"># 압축 해제</span>\n$ <span class=\"token function\">tar</span> xzf Python-2.7.18.tgz\n$ Python-2.7.18\n\n<span class=\"token comment\"># 빌드 및 설치</span>\n$ ./configure --enable-optimizations\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">make</span> altinstall\n$ <span class=\"token function\">make</span>\n\n<span class=\"token comment\"># python 버전 설정</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">python</span><span class=\"token operator\">=</span>python2\npython2\n\n<span class=\"token comment\"># python 바이너리 교체</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">cp</span> /usr/bin/local/python  /usr/bin/python</code></pre></div>\n<p>참고로 이 부분에서 gcc, g++, make과 같은 빌드 도구들을 미리 설치해 놓는 것이 좋다.</p>\n<p>WSL2의 경우 기본 설치되지 않았을 확률이 높으므로...</p>\n<p>마지막의 바이너리 교체는 python2 설치 경로가 위와 같을때 그대로 하면 되고, 아니면 설치된 경로에 맞게 넣으면 된다.</p>","frontmatter":{"title":"[Gatsby Blog 만들기 - 1] Gastby Blog 설치 (gatsby-starter-bee)","date":"September 25, 2021","description":null}},"previous":null,"next":{"fields":{"slug":"/gatsby/gatsby_deploy/"},"frontmatter":{"title":"[Gatsby Blog 만들기 - 2] Gastby Blog 배포 (gatsby-starter-bee)"}}},"pageContext":{"id":"14726c6f-2610-5505-9f3f-4a5f87e902ab","previousPostId":null,"nextPostId":"bf3c7615-9474-525f-9306-9b46b499f0ce"}},"staticQueryHashes":["2841359383","3257411868"],"slicesMap":{}}