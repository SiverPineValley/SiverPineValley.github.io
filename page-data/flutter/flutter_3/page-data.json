{"componentChunkName":"component---src-templates-blog-post-js","path":"/flutter/flutter_3/","result":{"data":{"site":{"siteMetadata":{"title":"Devlog"}},"markdownRemark":{"id":"b6a414c7-c02c-5a67-bfc1-c8fea9497f14","excerpt":"1. Consumer flutter의 공식 홈페이지를 살펴보면 Consumer의 정의는 다음과 같다.  즉, Consumer를 상위 위젯으로 지정해놓으면 하위 위젯에서는 Provier.of나 extension 메소드 없이 바로 Provider…","html":"<h1>1. Consumer</h1>\n</br>\n<div align=\"left\">\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e969802fd79c70a533750b09be837faf/599ea/consumer.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 21.51898734177215%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAjklEQVR42l2P3QqAIBSDff9H8y4pVEwqLUHLZ1jsQBFdfO7MDX/UNE0YhgExRvTecZ4nrut69YH+C7vfjNpagwohQGst8GDvPXiJtVaUjOMI9rhHnedZus45GGPEs7csC1QpBdu2gbquK1JK4qn0nMm+78g5C8dxSMaZhzB7OooLn1prfb9DT77znyf76w0YRCQ8gL9e9wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"consumer\" title=\"\" src=\"/static/e969802fd79c70a533750b09be837faf/f058b/consumer.png\" srcset=\"/static/e969802fd79c70a533750b09be837faf/c26ae/consumer.png 158w,\n/static/e969802fd79c70a533750b09be837faf/6bdcf/consumer.png 315w,\n/static/e969802fd79c70a533750b09be837faf/f058b/consumer.png 630w,\n/static/e969802fd79c70a533750b09be837faf/40601/consumer.png 945w,\n/static/e969802fd79c70a533750b09be837faf/78612/consumer.png 1260w,\n/static/e969802fd79c70a533750b09be837faf/599ea/consumer.png 1926w\" sizes=\"(max-width: 630px) 100vw, 630px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</div>\n</br>\n<p>flutter의 공식 홈페이지를 살펴보면 Consumer의 정의는 다음과 같다. <code class=\"language-text\">개발자가 Provider&lt;T>가 제공하는 타입을 명시적으로 builder에 제공해 줄 필요가 없다. 컨슈머 위젯은 굉장한 일을 하는 것이 아니라, 새로운 위젯에서 Provider.of를 호출하고 builder에게 이것의 구현을 위임한다. builder는 null이 될 수 없고, 값이 변할 때마다 호출되어야 한다</code> 즉, Consumer를 상위 위젯으로 지정해놓으면 하위 위젯에서는 Provier.of나 extension 메소드 없이 바로 Provider로 정의된 인스턴스에 접근할 수 있다는 것이다.</p>\n</br>\n<p>여기서 BuilderContext와 Widget을 사용하지 않는다면 언더바(_)로 생략 가능하다. child의 경우에는 변경이 일어나지 않아야 할 하위 위젯이 있을 때 사용된다.</p>\n</br>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token class-name\">Consumer</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Dog</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>\n  builder<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">BuildContext</span> _<span class=\"token punctuation\">,</span> <span class=\"token class-name\">T</span> t<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Widget</span><span class=\"token operator\">?</span> child<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">Center</span><span class=\"token punctuation\">(</span>\n      child<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Column</span><span class=\"token punctuation\">(</span>\n        mainAxisAlignment<span class=\"token punctuation\">:</span> <span class=\"token class-name\">MainAxisAlignment</span><span class=\"token punctuation\">.</span>center<span class=\"token punctuation\">,</span>\n        mainAxisSize<span class=\"token punctuation\">:</span> <span class=\"token class-name\">MainAxisSize</span><span class=\"token punctuation\">.</span>min<span class=\"token punctuation\">,</span>\n        children<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n          child<span class=\"token operator\">!</span><span class=\"token punctuation\">,</span>\n          <span class=\"token class-name\">SizedBox</span><span class=\"token punctuation\">(</span>height<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token class-name\">Text</span><span class=\"token punctuation\">(</span>\n            <span class=\"token string-literal\"><span class=\"token string\">'- name: </span><span class=\"token interpolation\"><span class=\"token punctuation\">${</span><span class=\"token expression\"><span class=\"token class-name\">T</span><span class=\"token punctuation\">.</span>name</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">,</span>\n            style<span class=\"token punctuation\">:</span> <span class=\"token class-name\">TextStyle</span><span class=\"token punctuation\">(</span>fontSize<span class=\"token punctuation\">:</span> <span class=\"token number\">20.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token class-name\">SizedBox</span><span class=\"token punctuation\">(</span>height<span class=\"token punctuation\">:</span> <span class=\"token number\">10.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token class-name\">BreedAndAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  child<span class=\"token punctuation\">:</span>\n      <span class=\"token class-name\">Text</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'I likes T very much'</span></span><span class=\"token punctuation\">,</span> style<span class=\"token punctuation\">:</span> <span class=\"token class-name\">TextStyle</span><span class=\"token punctuation\">(</span>fontSize<span class=\"token punctuation\">:</span> <span class=\"token number\">20.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n</br>\n<h2>1.1. ProviderNotFoundException</h2>\n<p>ProviderNotFoundException이란 Provider를 생성할 때 context를 현재 위젯보다 상위 위젯(MaterialApp)의 context에 선언된 값을 가져와야 하는데, 상위 위젯에서는 Provider가 선언되어 있지 않을 때 발생한다. 즉, Provider에 접근하는 위젯이 Provider를 선언한 현재 위젯이거나, 그보다 상위에서 접근했다는 의미이다.</p>\n</br>\n<ol>\n<li>\n<p>더 상위 위젯에 Provider를 선언한다. Provider에 접근하는 위젯이 현재 Provider를 선언한 위젯이라면, child부분을 하위 위젯으로 분리한다.</p>\n</li>\n<li>\n<p>Builder를 사용한다. build 콜백 함수를 통해 Builder라는 하위 위젯을 생성하므로, Provider에 접근 가능하다.</p>\n</li>\n<li>\n<p>Consumer를 사용한다.</p>\n</li>\n</ol>\n</br>\n<h1>2. Selector</h1>\n<p>Selector 위젯은 Consumer와 유사한데, 한정된 수의 value들을 선택하여 값이 변하지 않으면 리빌드 하지 않는 위젯이다.</p>\n</br>\n<div align=\"left\">\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d6ba7af33ed2814d2c73fecabdeac26a/ad1ae/selector.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 21.51898734177215%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAtUlEQVR42oWPWw6CMBBF2f++CAmER0sDaCutRLAFKku4tmPQTz9O7jwyM3cSIQSqqkLXddi2Dd57Yt/3L7Eecc79JdFaI01TFEWBpmmQZRnyPCfKsgTnHIwzMMawPBcass7CWktKubW/hdM00WB02Pc96rpG27bkuokxF5BSQY8GfvdYXXC7BuebJ844auwlxhh663yT1H/0eB2YZg2p+8CA4SYwPiSuOhxXglD3C9WlGaBnhTeDuiIiKeaGcwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"selector\" title=\"\" src=\"/static/d6ba7af33ed2814d2c73fecabdeac26a/f058b/selector.png\" srcset=\"/static/d6ba7af33ed2814d2c73fecabdeac26a/c26ae/selector.png 158w,\n/static/d6ba7af33ed2814d2c73fecabdeac26a/6bdcf/selector.png 315w,\n/static/d6ba7af33ed2814d2c73fecabdeac26a/f058b/selector.png 630w,\n/static/d6ba7af33ed2814d2c73fecabdeac26a/40601/selector.png 945w,\n/static/d6ba7af33ed2814d2c73fecabdeac26a/78612/selector.png 1260w,\n/static/d6ba7af33ed2814d2c73fecabdeac26a/ad1ae/selector.png 2270w\" sizes=\"(max-width: 630px) 100vw, 630px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</div>\n</br>\n<p>Consumer와 거의 유사하나, selector 함수가 추가되었다. Extension method의 <code class=\"language-text\">select()</code>와 유사하게, Provider로 제공할 클래스, 리턴받을 값의 타입을 지정한다. builder 함수 역시 거의 유사하나, 타입 T가 아닌 앞서 selector에서 리턴받은 타입을 넣어준다.</p>\n<h1>3. 출처</h1>\n<p><a href=\"https://www.udemy.com/course/flutter-provider-essential-korean/\">https://www.udemy.com/course/flutter-provider-essential-korean/</a></br></p>","frontmatter":{"title":"[Flutter] 03. Consumer, ProviderNotFoundException, Selector","date":"January 08, 2024","description":null}},"previous":{"fields":{"slug":"/flutter/flutter_2/"},"frontmatter":{"title":"[Flutter] 02. 상태 관리 기법과 Provider"}},"next":{"fields":{"slug":"/kafka/kafka_5_2/"},"frontmatter":{"title":"5-2) 프로듀서 애플리케이션 개발"}}},"pageContext":{"id":"b6a414c7-c02c-5a67-bfc1-c8fea9497f14","previousPostId":"f0d03975-8fe3-54c5-8498-ddd2b118dbd3","nextPostId":"d7d5a889-f926-56ed-8a1c-b5c4321d587b"}},"staticQueryHashes":["2841359383","3257411868"],"slicesMap":{}}